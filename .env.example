# ============================================================
# Raindary 環境変数設定サンプル
# このファイルをコピーして .env.local を作成してください
# cp .env.example .env.local
# ============================================================

# Next.js
NEXTAUTH_URL=http://localhost:3000
NODE_ENV=development

# ============================================================
# 認証 (Auth.js)
# ============================================================
# 生成コマンド: openssl rand -hex 32
AUTH_SECRET=

# Raindrop.io OAuth アプリ
# 取得先: https://raindrop.io/app/settings/integrations
# → 「Create new app」でアプリを作成し、Redirect URI に以下を設定:
#   http://localhost:3000/api/auth/callback/raindrop
AUTH_RAINDROP_ID=
AUTH_RAINDROP_SECRET=

# ============================================================
# データベース (PostgreSQL)
# ============================================================
# ローカル開発環境 (docker-compose の db コンテナ)
DATABASE_URL=postgresql://postgres:postgres@db:5432/raindary

# --- 本番環境 (いずれか1つ選択) ---
# Supabase Cloud (必ず Pooler Connection String を使用)
# DATABASE_URL=postgresql://postgres.[PROJECT-REF]:[PASSWORD]@aws-0-[REGION].pooler.supabase.com:6543/postgres

# Neon (必ず Pooled Connection String を使用)
# DATABASE_URL=postgresql://[USER]:[PASSWORD]@[HOST].neon.tech/[DB]?sslmode=require

# ============================================================
# Inngest (バックグラウンドジョブ)
# ============================================================
# ローカル開発環境 (docker-compose の inngest コンテナ)
INNGEST_EVENT_KEY=local_dev_key
INNGEST_SIGNING_KEY=local_signing_key
INNGEST_DEV=1
INNGEST_BASE_URL=http://inngest:8288

# --- 本番環境 (Inngest Cloud) ---
# 取得先: https://app.inngest.com/
# INNGEST_EVENT_KEY=
# INNGEST_SIGNING_KEY=
# INNGEST_DEV=0
# INNGEST_BASE_URL=https://inn.gs

# ============================================================
# 記事本文抽出サービス
# ============================================================
# ローカル開発環境 (docker-compose の extract コンテナ)
EXTRACT_API_URL=http://extract:8000/extract

# ============================================================
# AI API キー (システム共通)
# ※ ユーザーが設定画面から個別の API キーを登録することも可能
# ============================================================

# Anthropic Claude (要約生成・ダイジェスト生成)
# 取得先: https://console.anthropic.com/
ANTHROPIC_API_KEY=

# OpenAI (エンベディング生成・意味検索・テーマ分類)
# 取得先: https://platform.openai.com/api-keys
OPENAI_API_KEY=

# ============================================================
# 暗号化キー
# ============================================================
# Raindrop トークン・ユーザー API キーの暗号化に使用
# 生成コマンド: openssl rand -hex 32
ENCRYPTION_KEY=

# ============================================================
# Redis (レート制限)
# ============================================================
# ローカル開発環境 (docker-compose の redis コンテナ)
REDIS_URL=redis://redis:6379

# --- 本番環境 (Upstash Redis) ---
# 取得先: https://console.upstash.com/
# → DB 作成後「Connect」タブ → ioredis の URL をコピー
# REDIS_URL=rediss://default:[PASSWORD]@[HOST].upstash.io:6379

# ============================================================
# Ably (リアルタイム通知)
# ============================================================
# 取得先: https://ably.com/accounts/any/apps
# → アプリ作成後「API Keys」タブからコピー
ABLY_API_KEY=
NEXT_PUBLIC_ABLY_KEY=

# ============================================================
# テーマ分類設定 (オプション)
# ============================================================
# 初回一括分類時の最大テーマ数 (デフォルト: 100)
# THEME_INITIAL_MAX=100
# 追加分類時の新規テーマ数上限 (デフォルト: 20)
# THEME_INCREMENTAL_MAX=20
